# ğŸš€ Quick Scripts Guide

Easy-to-use batch scripts for running AI Sales Commander on Windows.

## ğŸ“‹ Available Scripts

### ğŸ¯ **setup.bat** - First Time Setup
Run this **once** when setting up the project for the first time.

```bash
setup.bat
```

**What it does:**
- âœ… Creates environment files from templates
- âœ… Generates secure SECRET_KEY
- âœ… Starts Docker services
- âœ… Runs database migrations
- âœ… Shows configuration instructions

**After running:** Edit `backend\.env` with your Google Cloud credentials.

---

### â–¶ï¸ **run.bat** - Start Everything
The main script to start all services with Docker.

```bash
run.bat
```

**What it does:**
- âœ… Checks if Docker is running
- âœ… Creates missing .env files
- âœ… Starts all containers (backend, frontend, database, redis, workers)
- âœ… Runs database migrations
- âœ… Shows service URLs
- âœ… Displays live logs

**Access Points:**
- Frontend: http://localhost:3000
- Backend API: http://localhost:8000
- API Docs: http://localhost:8000/docs
- Task Monitor: http://localhost:5555

**To stop:** Press `Ctrl+C` or close the window

---

### ğŸ› ï¸ **run-dev.bat** - Development Mode
Run without Docker for faster development (requires Python + Node.js installed).

```bash
run-dev.bat
```

**What it does:**
- âœ… Starts PostgreSQL and Redis in Docker
- âœ… Runs backend directly with hot-reload
- âœ… Runs frontend directly with Vite
- âœ… Opens separate windows for each service

**Requirements:**
- Python 3.11+ installed
- Node.js 20+ installed
- Docker Desktop running

**Use this when:** You're actively developing and want instant code changes

---

### â¹ï¸ **stop.bat** - Stop All Services
Stop all running Docker containers.

```bash
stop.bat
```

**What it does:**
- âœ… Stops all containers gracefully
- âœ… Preserves data in volumes

**Note:** Data is NOT deleted, just services are stopped.

---

### ğŸ“Š **logs.bat** - View Logs
Interactive log viewer for troubleshooting.

```bash
logs.bat
```

**Options:**
1. All services - See everything at once
2. Backend only - API server logs
3. Frontend only - React app logs
4. Database only - PostgreSQL logs
5. Workers only - Celery task logs

**Use this when:** Debugging issues or monitoring activity

---

## ğŸ¯ Quick Start (3 Steps)

### First Time:

1. **Setup** (once)
   ```bash
   setup.bat
   ```

2. **Configure** `backend\.env`
   - Add your `SECRET_KEY` (generated by setup)
   - Add Google Cloud credentials

3. **Run** (every time)
   ```bash
   run.bat
   ```

### Daily Use:

```bash
# Start working
run.bat

# When done
stop.bat
```

---

## ğŸ’» Script Comparison

| Script | Docker Required | Speed | Use Case |
|--------|----------------|-------|----------|
| **run.bat** | âœ… Yes | Medium | Production-like, full stack |
| **run-dev.bat** | âš ï¸ Partial | Fast | Active development |
| **setup.bat** | âœ… Yes | Slow | First time only |

---

## ğŸ”§ Troubleshooting

### "Docker is not running"
**Solution:** Start Docker Desktop before running scripts

### "Port already in use"
**Solution:** 
```bash
# Stop existing services
stop.bat

# Or check what's using the port
netstat -ano | findstr "3000"
netstat -ano | findstr "8000"
```

### "Permission denied"
**Solution:** Run Command Prompt as Administrator

### Services won't start
**Solution:**
```bash
# Clean restart
stop.bat
docker-compose down -v
run.bat
```

### Backend errors
**Solution:**
```bash
# Check logs
logs.bat
# Choose option 2 (Backend only)
```

---

## ğŸ¨ Customization

### Change Ports

Edit `docker-compose.yml`:
```yaml
frontend:
  ports:
    - "3001:3000"  # Change 3000 to 3001
```

### Run Specific Services Only

```bash
# Only backend and database
docker-compose up -d backend postgres redis
```

### Add Debug Mode

Edit `run.bat` and add:
```bash
set DEBUG=true
```

---

## ğŸ“ Advanced Usage

### Run with Fresh Database
```bash
docker-compose down -v
run.bat
```

### Create Admin User
```bash
docker-compose exec backend python scripts/create_admin.py
```

### Access Database Directly
```bash
docker-compose exec postgres psql -U aisales -d aisales
```

### Rebuild After Code Changes
```bash
docker-compose up -d --build
```

### Check Service Status
```bash
docker-compose ps
```

---

## ğŸš€ Pro Tips

ğŸ’¡ **Tip 1:** Keep `run.bat` window open to see real-time logs

ğŸ’¡ **Tip 2:** Use `run-dev.bat` for frontend changes (faster refresh)

ğŸ’¡ **Tip 3:** Use `logs.bat` in a separate window while developing

ğŸ’¡ **Tip 4:** Bookmark http://localhost:8000/docs for API testing

ğŸ’¡ **Tip 5:** Run `setup.bat` again if you mess up configuration

---

## ğŸ¯ Common Workflows

### Starting Fresh
```bash
stop.bat
docker-compose down -v
setup.bat
# Configure .env
run.bat
```

### Daily Development
```bash
run-dev.bat
# Code in VS Code
# Changes auto-reload
# Stop with Ctrl+C in windows
```

### Testing Changes
```bash
stop.bat
docker-compose up -d --build
logs.bat
```

### Production Deployment
See [DEPLOYMENT.md](./DEPLOYMENT.md) instead of these scripts

---

## ğŸ“ Need Help?

**Error messages?** â†’ Run `logs.bat` and check specific service logs

**Configuration issues?** â†’ Check `backend\.env` and `frontend\.env`

**Docker problems?** â†’ Restart Docker Desktop

**Still stuck?** â†’ See [GETTING_STARTED.md](./GETTING_STARTED.md)

---

## âœ¨ Summary

| Want to... | Run this... |
|-----------|------------|
| Set up for first time | `setup.bat` |
| Start server | `run.bat` |
| Develop with hot-reload | `run-dev.bat` |
| Stop server | `stop.bat` |
| View logs | `logs.bat` |

**Most common:** Just double-click `run.bat` ğŸš€

---

**Made it easy!** Now you can start coding without fighting with commands. ğŸ‰
